(()=>{"use strict";var e={};function t(e){return parseInt(e-273.15)}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var i=n.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const n=e.p+"/img/bg-night.jpg",i=e.p+"/img/bg-day.jpg";function c(e){const t="celsius"==e?"fahrenheit":"celsius",n=document.querySelectorAll(`.wi-${t}`);let i;if([,...i]=n,0==i.length)return;const c=document.querySelectorAll(".degree");i.map((t=>t.className=`wi wi-${e}`)),c.forEach((t=>t.innerText=function(e,t){return"fahrenheit"===e?parseInt(9*t/5+32):parseInt(5*(t-32)/9)}(e,t.innerText)))}async function r(e){const c=`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=780876c77a2ffc68569ba8637b985e4f`;try{const e=await fetch(c,{mode:"cors"});!function(e){!1!==function({cod:e}){return"404"!=e||(alert("Invalid city name"),!1)}(e)&&(function({name:e}){document.getElementById("city").innerText=e}(e),function({timezone:e}){const t=document.getElementById("time"),c=new Date;let r=c.getUTCHours()+e/3600;const o=c.getUTCMinutes();r<0&&(r=24+r),r>24&&(r-=24);let u=r>12?r-12:r;u>12&&(u-=12),u<0&&(u=12+u);const d=o<10?"0"+o:o,s=r>12?"PM":"AM";t.innerText=`${u}:${d} ${s}`,function(e){document.body.style.backgroundImage=e>6&&e<18?`url(${i})`:`url(${n})`}(r)}(e),function({main:{temp:e}}){document.getElementById("degree").innerText=t(e)}(e),function({weather:e}){document.getElementById("condition").innerText=e[0].main}(e),function({weather:e}){document.getElementById("conditionImg").className=`wi wi-owm-${e[0].id}`}(e),function({wind:e}){const t=document.getElementById("speed"),n=document.getElementById("gust"),i=document.getElementById("deg"),c=document.getElementById("degIcon");null==e.gust&&(e.gust="None"),t.innerText=e.speed,n.innerText=e.gust,i.innerText=e.deg,c.classList=`wi wi-wind towards-${e.deg}-deg`}(e),function({main:e}){const t=document.getElementById("humidity"),n=document.getElementById("pressure");t.innerText=e.humidity,n.innerText=e.pressure}(e),function({main:e}){const n=document.getElementById("min"),i=document.getElementById("max"),c=document.getElementById("feel");n.innerText=t(e.temp_min),i.innerText=t(e.temp_max),c.innerText=t(e.feels_like)}(e))}(await e.json())}catch(e){console.error(e)}}r("New York"),function(){const e=document.getElementById("search"),t=document.getElementById("celsius"),n=document.getElementById("fahrenheit");e.addEventListener("keypress",(t=>{"Enter"==t.key&&(t.preventDefault(),r(e.value),e.value="")})),t.addEventListener("click",(()=>c("celsius"))),n.addEventListener("click",(()=>c("fahrenheit")))}()})();